<!DOCTYPE html>
<html lang="en">

<head>
    <title>Butterfly Classification</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <!-- Include the ml5.js library -->
    <script src="https://unpkg.com/ml5@latest/dist/ml5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/addons/p5.dom.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  
    <link class="jsbin" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1/themes/base/jquery-ui.css"
        rel="stylesheet" type="text/css" />
    
    <script class="jsbin" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script class="jsbin" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.0/jquery-ui.min.js"></script>
</head>

<style>
    :root {
        --color-iris: #4D5AE5;
        --color-navyblue: #2E2F42;
        --color-white: #FFFFFF;
        --color-cornflower: #E7E9FC;
        --color-ocean: #404BBF;
        --color-cloud: #F4F4FD;
        --color-dairy: #FCFCFC;
        --color-slate: #434455;
        --bs-blue: #0d6efd;
        --bs-indigo: #6610f2;
        --bs-purple: #6f42c1;
        --bs-pink: #d63384;
        --bs-red: #dc3545;
        --bs-orange: #fd7e14;
        --bs-yellow: #ffc107;
        --bs-green: #198754;
        --bs-teal: #20c997;
        --bs-cyan: #0dcaf0;
        --bs-white: #fff;
        --bs-gray: #6c757d;
        --bs-gray-dark: #343a40;
        --bs-primary: #0d6efd;
        --bs-secondary: #6c757d;
        --bs-success: #198754;
        --bs-info: #0dcaf0;
        --bs-warning: #ffc107;
        --bs-danger: #dc3545;
        --bs-light: #f8f9fa;
        --bs-dark: #212529;
        --font-family-open-sans: 'Open sans', san-serif;
        --font-family-roboto: 'Roboto', san-serif;
        --bs-font-sans-serif: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
        --bs-font-monospace: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        --bs-gradient: linear-gradient(180deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0));
    }




    *,
    *::before,
    *::after {
        margin: 0px;
        padding: 0px;
        box-sizing: border-box;
    }

    .btn-back {
        color: var(--color-cloud);
        background-color: #191970;
    }

    .btn-submit {
        color: var(--color-cloud);
        background-color: #191970;
    }



    .btn-reset {
        color: black;
        background-color: #fd7e14;


    }


    .btn-reset,
    .btn-submit,
    .btn-back {
        border-style: none;
        border-radius: 4px;
        padding: 6px;
        font: var(bs-font-sans-serif);
    }

    /* Set styles for HTML elements */
    h1,
    h2 {
        font-family: arial;
        text-align: center;
    }

    .imageInput {
        width: 100%;
        text-align: center;
    }

    .imageResult {
        font-family: arial;
        width: 100%;
        text-align: center;
        text-transform: uppercase;
        color: red;
    }

    .uploadedImage {
        padding-top: 20px;
        width: 50%;
        height: auto;
        margin-left: 25%;
    }
</style>

<body>
    <!-- MENU -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
        <div class="container-fluid">
            <!-- <a href="add garden.html">
                <img src="icon/back-icon.png" alt="" srcset="" class="img-back-icon">
            </a> -->
            <div class="nav navbar-nav navbar-right">
                <li><a href="/">Home</a> </li>
                <li><a href="viewDatabase/" class="smoothScroll">View Images</a> </li>
            </div>
        </div>
    </nav>
    <header>
        <section class="navbar nvbar-default nvbar-static-top" role="navigation" style="align-items:center ;">
            <div class="container">
                <!-- <a href="index.html" class="navbar-brand">
                    <i class="fa fa-h-square">
                        LOGO TEXT HERE
                </a>
                <div class="navbar-header">
                    <button class="nvabar-toggle" data-target="navbar-collapse">
                        <span class="icon icon-bar"> hhhhh</span>
                        <span class="icon icon-bar">jjjjj</span>
                        <span class="icon icon-bar">kkkkk</span>
                    </button>
                  
                </div> -->
            
            
                <div class="container">
                    <h1>Mini Teachable Machine</h1>
                    <input type="file" id="fileInput" multiple accept="image/*" />
                    <div id="imageContainer"></div>
                    <p id="message">Upload images</p>
                    <input type="text" id="labelInput" placeholder="Enter label">
                    <button id="addButton" disabled>Add Images</button>
                    <button id="trainButton" disabled>Train Model</button>
                    <button id="predictButton" disabled>Predict</button>
                    <script src="./script.js"></script>
                    <div class="panel panel-default">
                        <div class="panel-body ">
                            <div class="panel-heading h5-title">
                               <h2>Upload your Image from your device</h2> 
                            </div>
                            <div class="card-app-gardenlist">
                                <h4>Experience a seamless transaction from your picture and highlight.</h4>
                            </div>
                            <div class="col-sm" style="margin-bottom: 23px;">
                                <form action="" method="get" accept-charset="utf-8" id="myForm">
                                    <div class="imageInput">
                                        <input type="file"
                                            oninput="uploadedImage.src=window.URL.createObjectURL(this.files[0]); startImageScan()">
                                    </div>
                                    <!-- Container for the uploaded image -->
                                    <img class="uploadedImage" id="uploadedImage" />
                                    <div class="imageResult" id="imageResult"><img src="images/predict.png" alt=""
                                            width=30px></div>
                                    <!----------------------------- Fixed Bottom Menu section--------------------------------------------->
                                </form>
                            </div>
                        </div>
                        <div class="panel-footer">
                            <div>
                                <button type="submit" class="btn-back" id="btn-home">
                                    <a class="nav-link" href="BCommonJay.html">Predict</a></button>
                                <button type="submit" class="btn-reset" onclick="myReset() "
                                    value="Reset Form">Reset</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="container">

                    <div class="center-save">
                        <button type="submit" class="btn-save" onclick="mySaveLarvae()"
                            value="Save Larvae Info Form">+&nbsp;Save
                        </button>
                    </div>

                </div>

                <script>
                    // Create a variable containing the result container
                    const element = document.getElementById("imageResult");

                    function startImageScan() {
                        // Create a variable to initialize the ml5.js image classifier with MobileNet
                        const classifier = ml5.imageClassifier('MobileNet');

                        // Scan the uploaded image
                        classifier.classify(document.getElementById("uploadedImage"), imageScanResult)
                        element.innerHTML = "loading...";
                    }

                    // Check for errors and display the results if there aren't any
                    function imageScanResult(error, results) {
                        if (error) {
                            element.innerHTML = error;
                        } else {
                            let num = results[0].confidence * 100;
                            element.innerHTML = results[0].label + "Confidence: " + num.toFixed(0) + " % " + "\n" + " Larvae that have Tachinid flies diseases require immediate attention before the disease takes over. Usually, a single larva develops inside an individual host insect. Many tachinid larvae almost totally consume the host insect before they bore out of the host to pupate and complete the. Reducing the use of insecticides and providing sources of food like dills, parsley, clover and other herbs are the most efficient ways to conserve Trachinid flies in agricultural ecosystems (Ellis; Bradley, 1996: pp. 328-329)";
                        }
                    }
                </script>
                <!-- <script src="js/mobilnet.js"></script> -->
                <script src="js/myscript.js"></script>
                <!-- <script src="js/transerLearning.js"></script> -->
                <script src="./jquery-3.6.0.slim.min.js"> </script>
                <script src="./js/bootstrap.bundle.min.js"></script>

</body>

</html>